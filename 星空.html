<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Canvas绘图详解</title>
</head>
<body>
	<canvas id="canvas" style="margin: 0 auto;display: block;">
		您的浏览器不支持Canvas!!!
	</canvas>
	<script type="text/javascript">
		window.onload=function(){

			var canvas=document.getElementById('canvas');
			var context=canvas.getContext('2d');

			WINDOW_WIDTH=document.documentElement.clientWidth;
			WINDOW_HEIGHT =document.documentElement.clientHeight;

			var linear=context.createLinearGradient(0,0,0,canvas.height);
			linear.addColorStop(0.0,"#020102");
			linear.addColorStop(1.0,"#002748");

			canvas.width=WINDOW_WIDTH;
			canvas.height=WINDOW_HEIGHT;

			context.fillStyle=linear;
			context.fillRect(0,0,canvas.width,canvas.height);

			context.fill();
			for(var i=0;i<300;i++){
				var r=Math.random()*2+5;
				var x=Math.random()*canvas.width;
				var y=Math.random()*canvas.height;
				var a=Math.random()*360;


				drawStar(context,r,x,y,a);
			}
			
			

		}

		function drawStar(cxt,R,x,y,rot){
			cxt.save();

			cxt.translate(x,y);
			cxt.rotate(rot/180*Math.PI);
			cxt.scale(R,R);

			starPath(cxt);

			cxt.fillStyle="#fb3";
			// cxt.strokeStyle="#fb5";
			// cxt.lineWidth=3;
			// cxt.lineToin="round";

			cxt.fill();
			// cxt.stroke();

			cxt.restore();

		}

		function starPath(cxt){
			cxt.beginPath();
			for(var i=0 ; i < 5 ; i ++){
				cxt.lineTo(Math.cos((18+i*72)/180*Math.PI),-Math.sin((18+i*72)/180*Math.PI));
				cxt.lineTo(Math.cos((54+i*72)/180*Math.PI)*0.5,-Math.sin((54+i*72)/180*Math.PI)*0.5);
			}

			cxt.closePath();
		}
	</script>
</body>
</html>